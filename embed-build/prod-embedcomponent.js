(()=>{let e=!1;loadContent=function(){if(e)return;const t=document.createElement("link");if(t.rel="stylesheet",t.href="https://embed.viasocket.com/style.css",document.head.appendChild(t),document.getElementById("iframe-embed-parent-container"))handleclose(),document.getElementById("embed-iframe-component")&&(document.getElementById("embed-iframe-component").src="");else{const e=document.createElement("div");e.id="iframe-embed-parent-container",e.innerHTML='<button id=\'viasocket-embed-close-button\' onclick="handleclose()">\n  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#818181"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"/></svg>\n  </button>\n  <iframe id="embed-iframe-component" title="iframe"></iframe>',document.body.appendChild(e)}e=!0},document.addEventListener("DOMContentLoaded",loadContent),document?.body&&loadContent(),initiateSSO=function(e){let{company_id:t,org_id:n,email:o,ssoToken:d,title:m}=e,i={org_id:n,title:m,company_id:t,email:o,viasocketSSOToken:d},a=JSON.stringify(i);window.open(`https://flow.viasocket.com/sso?viasocketSSO=${a}`,"_blank")};let t="https://embedfrontend.viasocket.com/embed?";document.getElementById("iframe-embed-parent-container");let n="",o="right_slider";receiveMessageFromChild=function(e){"copy"===e?.data?.type&&navigator.clipboard.writeText(e?.data?.message||"")},handleclose=function(){document.getElementById("iframe-embed-parent-container").style.display="none","custom"!==n?.buttonType&&document.getElementById("viasocket-embed-open-button")&&(document.getElementById("viasocket-embed-open-button").style.display="unset")},intializeIntegration=function(){},SenddDataToIntegration=function(e){const t="embeddata";document.getElementById("embed-iframe-component").onload=function(){document.getElementById("embed-iframe-component").contentWindow.postMessage({type:t,data:e},"*")},e&&document.getElementById("embed-iframe-component")&&document.getElementById("embed-iframe-component").contentWindow.postMessage({type:t,data:e},"*")},loadViasocketEmbed=async function(){const e=document.getElementById("viasocket-embed-main-script")?.getAttribute("embedToken")||document.getElementById("main-script")?.getAttribute("embedToken");fetch("https://flow-api.viasocket.com/users/register",{method:"GET",headers:{"Content-Type":"application/json",Authorization:e}}).then((e=>e.json())).then((e=>{n=e?.data?.config,t=t.concat(`viasocketEmbedDetails=${JSON.stringify(e.data)}`),n&&(n.buttonName&&"custom"!==n.buttonType&&document.getElementById("viasocket-embed-open-button")&&(document.getElementById("viasocket-embed-open-button").innerText=n.buttonName),n.type&&(o=n.type,document.getElementById("iframe-embed-parent-container").classList.remove(`${o}-embed-parent-container`),"custom"!==n.buttonType&&document.getElementById("viasocket-embed-open-button")&&(document.getElementById("viasocket-embed-open-button")?.classList?.remove(`${o}-embed-open-button`),document.getElementById("viasocket-embed-open-button")?.classList?.add(`${o}-embed-open-button`)))),document.getElementById("iframe-embed-parent-container").classList.add(`${o}-embed-parent-container`),"all_space"===o?(document.getElementById("iframe-embed-parent-container").style.height="100%",document.getElementById("iframe-embed-parent-container").style.width="100%"):(document.getElementById("iframe-embed-parent-container").style.height=n?.height+(n?.heightUnit||"")||"70vh",document.getElementById("iframe-embed-parent-container").style.width=n?.width+(n?.widthUnit||"")||"40vw")})).catch((e=>{console.log("Fetch error:",e)}))},loadViasocketEmbed(),openViasocket=function(e=!1){document.getElementById("embed-iframe-component")&&(t?.includes("&scriptId=")&&(t=t.split("&scriptId")[0]),e&&(t+=`&scriptId=${e}`),document.getElementById("embed-iframe-component").src=t),document.getElementById("iframe-embed-parent-container")&&("custom"!==n.buttonType&&document.getElementById("viasocket-embed-open-button")&&(document.getElementById("viasocket-embed-open-button").style.display="none"),document.getElementById("iframe-embed-parent-container").style.display="flex",document.body.style.overflow="hidden")},window.addEventListener("message",receiveMessageFromChild,!1)})();